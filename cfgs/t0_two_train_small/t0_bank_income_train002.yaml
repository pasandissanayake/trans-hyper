# experiment configuration
name: t0
save_dir: './save/'
eval_model: false # "/export/pasand/trans-hyper/save/t0pp-calhouse-finonly/epoch-10.pth"
wandb_auth: 'wandb_auth.yaml'
wandb_sweep_cfg: false # 'cfgs/sweeps/sweeptest.yaml'


# debugging configuration
debug: true
debug_datasets: false
debug_hypernet: false
debug_hyponet: false
debug_trainer: false


# hypernet configuration
hypernet:
  name: t0
  model: bigscience/T0pp


# hyponet configuration
hyponet:
  model: mlp
  in_dim: 0 # set during runtime
  out_dim: 2
  hidden_dim: 10
  depth: 4


# tokenizer configuration
tokenizer:
  name: t0_tokenizer
  model: bigscience/T0pp
  truncation: True
  padding: max_length
  max_length: 128


# trainer configuration
trainer:
  name: t0_trainer
  batch_size: 1
  n_workers: 1
  max_epoch: 20
  eval_epoch: 1
  vis_epoch: 25
  save_epoch: 4
  optimizer:
    name: adam
    args:
      lr: 1.e-5
    


# dataset configuration
datasets:
  data_root: ./data/
  n_shots: 5
  n_queries: 5
  train_ratio: 0.002
  test_ratio: 0.3
  train_size: ""
  test_size: ""

  balanced:
    train: True
    val: False
    test: False

  list_combine_train: # list of datasets to combine
    - bank
    - income
        
  list_combine_val: # list of datasets to combine for validation
    - calhousing
  
  list_combine_test: # list of datasets to combine for testing
    - calhousing
  
  adult:
    name: adult
    save_dir: adult
    test_size: 0.2
    validation_size: 0.5
    n_features: 3
    str_template: "<example>This is the adult income dataset. The final weight is {}. The capital gain is {}. The label is {}.</example>"
    
  diabetes:
    name: diabetes
    save_dir: diabetes
    test_size: 0.2
    validation_size: 0.1
    n_features: 3
    str_template: "<example>This is the diabetes dataset. The final weight is {}. The capital gain is {}. The label is {}.</example>"

  tabllm:
    raw_data_path: "tabllm/data/datasets"
    txt_data_path: "tabllm/data/datasets_serialized"
    template_dir: "tabllm/templates"


